<!DOCTYPE html>
<html>
<head>
	<title>简单计算器</title>
	<meta charset="utf-8"/>
	<style type="text/css">
        #whole{
        	border:2px solid #d3d3d3;
        	height: 553px;
        	width: 425px;
        	background-repeat: no-repeat;
        	background-position: top center;
        }
        
        td{
        	border: 2px solid #d3d3d3;
        	width: 102px;
        	height: 102px;
        }
        input{
        	font-size: 18px;
        	font-family: arial,sans-serif;
        	color:#00003f;
        }
        #inp1{
        	width: 300px;
        	height: 100px;
        	font-size: 30px;
        	font-family: arial,sans-serif;
        	font-weight: bold;
        	color:#000033;
        }
	</style>
	<script type="text/javascript">
        /* 定义一个Calculator类*/
        function Calculator(){
            this.jisuan=function(num1,num2,oper){
                var res=0;
                switch(oper){
                    case "+":
                        res=num1+num2;
                        break;
                    case "-":
                        res=num1-num2;
                        break;
                    case "*":
                        res=num1*num2;
                        break;
                    case "/":
                        res=num1/num2;
                        break;
                }
                return res;
            }
        }
        //创建对象
        var calculator=new Calculator();
        /*定义全局变量*/
        var val=0; //放置输入的值
        var xval=0;//保存转换Number类型的值
        var temp=0; //保存第一次输入的值    
        var oper="";//保存输入的操作符
        /*获取输入数字*/
        function inputEvent(e){
            val=e.value
            var xsval=document.getElementById("inp1");        
            xsval.value+=val; //连续输入数字(String类型)
            //转换Number类型
            xval=parseFloat(xsval.value);
        }
        /*获取第一行的数据*/
        function inputPCB(e){
            //window.alert(e.value);
            var xsval=document.getElementById("inp1");
            if(e.value=="c"){
                xsval.value="";
            }            
        }
        /*输入操作符*/
        function inputOper(e){
            oper=e.value;
            //window.alert(typeof oper);
            //oper=oper.substr(0);
            if (e.value=="+"){
                var xsval=document.getElementById("inp1");
                //保存上次计算结果，并对字符串进行转换Number类型
                temp=parseFloat(xsval.value);
                //第一次输入的值设置为空
                xsval.value="";                        
            }
            else if(e.value=="-"){
                var xsval=document.getElementById("inp1");
                temp=parseFloat(xsval.value);
                xsval.value="";
            }
            else if(e.value=="*"){
                var xsval=document.getElementById("inp1");
                temp=parseFloat(xsval.value);
                xsval.value="";
            }
            else if(e.value=="/"){
                var xsval=document.getElementById("inp1");
                temp=parseFloat(xsval.value);
                xsval.value="";
            }
        }
        /*计算结果*/
        function inputEquel(e){
            var xsval=document.getElementById("inp1");        
            if(e.value=="="){
                //window.alert(xval);
                //调用对象方法
                xsval.value=calculator.jisuan(temp,xval,oper);
            }
        }
    </script>
</head>
<body>	
    <div id="whole">
    	<table height="530px" width="425px"  cellspacing="2px" align="center" >
    		<tr>
    		    <td colspan="3" align="right">
    		    	<input type="text" name="nunScreen" id="inp1" value=""  style="border:none; text-align:right;"/>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" class="tool" value="c" style="width: 75px; height: 75px;" onclick="inputPCB(this)" />
                    </div>
    		    </td>
    		</tr>
    		<tr>
    		    <td align="center" >
    		    	<div class="solo">
    		    		<input type="button" value="1" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="2" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="3" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="+" style="width: 75px; height: 75px;" onclick="inputOper(this)" />
    		    	</div>
    		    </td>
    		</tr>
    		<tr>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="4" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div classclass="solo">
    		    		<input type="button" value="5" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="6" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="-" style="width: 75px; height: 75px;" onclick="inputOper(this)"/>
    		    	</div>
    		    </td>
    		</tr>
    		<tr>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="7" style="width: 75px; height: 75px;"onclick="inputEvent(this)"  />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="8" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="9" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="*" style="width: 75px; height: 75px;" onclick="inputEvent(this)"/>
    		    	</div>
    		    </td>
    		</tr>
    		<tr>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="0" style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="." style="width: 75px; height: 75px;" onclick="inputEvent(this)" />
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="=" style="width: 75px; height: 75px;" onclick="inputEquel(this)"/>
    		    	</div>
    		    </td>
    		    <td align="center">
    		    	<div class="solo">
    		    		<input type="button" value="/" style="width: 75px; height: 75px;" onclick="inputOper(this)"/>
    		    	</div>
    		    </td>
    		</tr>
    	</table>
    </div>
    
</body>

</html>